(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{100:function(e,t,n){e.exports={Input:"Input__Input__-base64-5-",Label:"Input__Label__-base64-5-",InputElement:"Input__InputElement__-base64-5-",Invalid:"Input__Invalid__-base64-5-"}},104:function(e,t,n){e.exports={Auth:"Auth__Auth__-base64-5-",Input:"Auth__Input__-base64-5-"}},105:function(e,t,n){"use strict";n.r(t);var a=n(21),i=n(26),l=n(4),s=n(5),r=n(7),o=n(6),u=n(8),c=n(0),d=n.n(c),p=n(35),h=n(99),m=n(16),b=n(104),v=n.n(b),g=n(15),f=n(47),_=n(31),j=n.n(_),y=n(46),E=n(18),C=n(2),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return(n=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={constrols:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your E-Mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1,isSignUp:!0},n.inputChangedHandler=function(e,t){var a=Object(C.b)(n.state.constrols,Object(i.a)({},e,Object(C.b)(n.state.constrols[e],{value:t.target.value,touched:!0,valid:Object(C.a)(t.target.value,n.state.constrols[e].validation)}))),l=!0;for(var s in a)l=l&&a[s].valid;n.setState({constrols:a,formIsValid:l})},n.submitHandler=function(e){e.preventDefault(),n.props.onAuth(n.state.constrols.email.value,n.state.constrols.password.value,n.state.isSignUp)},n.switchAuthModeHandler=function(){n.setState(function(e){return{isSignUp:!e.isSignUp}})},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.buildingBurger||"/"===this.props.authRedirectPath||this.props.onSetAuthRedirectPath()}},{key:"render",value:function(){var e=this;if(this.props.isAuthenticated)return d.a.createElement(E.a,{to:this.props.authRedirectPath});var t=Object.keys(this.state.constrols).map(function(t){return d.a.createElement(h.a,{key:t,changed:e.inputChangedHandler,elementType:e.state.constrols[t].elementType,elementConfig:Object(a.a)({},e.state.constrols[t].elementConfig,{key:t}),touched:e.state.constrols[t].touched,shouldValidate:e.state.constrols[t].validation,invalid:!e.state.constrols[t].valid,value:e.state.constrols[t].value})});this.props.loading&&(t=d.a.createElement(y.a,null));var n=null;return this.props.error&&(n=d.a.createElement("p",null,this.props.error.message)),d.a.createElement("div",{className:v.a.Auth},n,d.a.createElement("form",{onSubmit:this.submitHandler},t,d.a.createElement(p.a,{btnType:"Success",clicked:function(){return m.b},disabled:!this.state.formIsValid},"Submit")),d.a.createElement(p.a,{btnType:"Danger",clicked:function(){return e.switchAuthModeHandler()}},"Switch to ",this.state.isSignUp?"Sign-In":"Sign-Up"))}}]),t}(c.Component);t.default=Object(g.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,buildingBurger:e.burger.building,authRedirectPath:e.auth.authRedirectPath}},function(e){return{onAuth:function(t,n,a){return e(Object(m.b)(t,n,a))},onSetAuthRedirectPath:function(){return e(Object(m.i)("/"))}}})(Object(f.a)(I,j.a))},99:function(e,t,n){"use strict";var a=n(0),i=n.n(a),l=n(100),s=n.n(l);t.a=function(e){var t=null,n=[s.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(s.a.Invalid),e.elementType){case"input":t=i.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{onChange:e.changed.bind(void 0,e.elementConfig.key),value:e.value}));break;case"textArea":t=i.a.createElement("textarea",Object.assign({className:n.join(" ")},e.elementConfig,{onChange:e.changed.bind(void 0,e.elementConfig.key),value:e.value}));break;case"select":var a=e.elementConfig.options.map(function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.displayValue)});t=i.a.createElement("select",{className:n.join(" "),value:e.value,onChange:e.changed.bind(void 0,e.elementConfig.key)},a);break;default:t=i.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed.bind(void 0,e.elementConfig.key)}))}return i.a.createElement("div",{className:s.a.Input},i.a.createElement("label",{className:s.a.Label},e.label),t)}}}]);
//# sourceMappingURL=4.8d5ca8bd.chunk.js.map